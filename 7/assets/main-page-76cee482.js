import{R as n,u as p,c as u,j as s,a as m,b as h,s as x,d as _,r as j,e as N}from"./index-8aa48f87.js";import{M as f}from"./map-0f2e7a9f.js";import{C as g}from"./card-list-1c6bab20.js";function r(e=n){const a=e===n?p:u(e);return function(){const{store:c}=a();return c}}const C=r();function v(e=n){const a=e===n?C:r(e);return function(){return a().dispatch}}const y=v();function b({activeCity:e,onCityChange:a}){return s.jsx("section",{className:"locations container",children:s.jsx("ul",{className:"locations__list tabs__list",children:m.map(t=>s.jsx("li",{className:"locations__item",children:s.jsx("a",{className:h("locations__item-link","tabs__item",{"tabs__item--active":t===e}),href:"#",onClick:()=>a(t),children:s.jsx("span",{children:t})})},t))})})}function S(){return s.jsxs("form",{className:"places__sorting",action:"#",method:"get",children:[s.jsx("span",{className:"places__sorting-caption",children:"Sort by"}),s.jsxs("span",{className:"places__sorting-type",tabIndex:0,children:["Popular",s.jsx("svg",{className:"places__sorting-arrow",width:"7",height:"4",children:s.jsx("use",{xlinkHref:"#icon-arrow-select"})})]}),s.jsx("ul",{className:"places__options places__options--custom places__options--opened",children:x.map(e=>s.jsx("li",{className:"places__option",tabIndex:0,children:e},e))})]})}function R({city:e,placesCount:a,cards:t,onCardHover:c}){return s.jsxs("section",{className:"cities__places places",children:[s.jsx("h2",{className:"visually-hidden",children:"Places"}),s.jsxs("b",{className:"places__found",children:[a," places to stay in ",e]}),s.jsx(S,{}),s.jsx(g,{cards:t,className:"main",onCardHover:c})]})}const o=_,k=()=>y();function P(){const e=o(i=>i.city),a=o(i=>i.cards.filter(d=>d.city.name===e)),t=k(),[c,l]=j.useState(void 0);return s.jsxs("main",{className:"page__main page__main--index",children:[s.jsx("h1",{className:"visually-hidden",children:"Cities"}),s.jsx("div",{className:"tabs",children:s.jsx(b,{activeCity:e,onCityChange:i=>t(N(i))})}),s.jsx("div",{className:"cities",children:s.jsxs("div",{className:"cities__places-container container",children:[s.jsx(R,{city:e,placesCount:a.length,cards:a,onCardHover:l}),s.jsx("div",{className:"cities__right-section",children:a.length>0&&s.jsx(f,{classes:"cities",cards:a,city:a[0].city,selectedCardId:c})})]})})]})}export{P as default};
